# CyberDeck runtime environment
# Copy to `.env` and adjust values for your setup.

# Core network
CYBERDECK_PORT=8080
CYBERDECK_PORT_AUTO=1
CYBERDECK_UDP_PORT=5555
CYBERDECK_MDNS=1
# Prefer LAN adapter IP over VPN/tunnel interfaces for QR/mDNS (0|1)
CYBERDECK_IGNORE_VPN=0

# Protocol
CYBERDECK_PROTOCOL_VERSION=2
CYBERDECK_MIN_PROTOCOL_VERSION=1

# Auth and session security
CYBERDECK_PAIRING_CODE=
CYBERDECK_PAIRING_TTL_S=0
CYBERDECK_QR_TOKEN_TTL_S=120
CYBERDECK_PIN_WINDOW_S=60
CYBERDECK_PIN_MAX_FAILS=8
CYBERDECK_PIN_BLOCK_S=300
CYBERDECK_PIN_STATE_STALE_S=7200
CYBERDECK_PIN_STATE_MAX_IPS=4096
CYBERDECK_ALLOW_QUERY_TOKEN=0
CYBERDECK_DEVICE_APPROVAL_REQUIRED=0
CYBERDECK_MAX_SESSIONS=0
CYBERDECK_SESSION_TTL_S=0
CYBERDECK_SESSION_IDLE_TTL_S=0
CYBERDECK_DEVICE_ONLINE_GRACE_S=2.5

# TLS (requires cert and key)
CYBERDECK_TLS=0
CYBERDECK_TLS_CERT=
CYBERDECK_TLS_KEY=

# Paths (if empty, OS defaults are used)
# Windows data dir: C:/Users/<user>/AppData/LocalLow/CyberDeck
# Linux data dir: /home/<user>/.local/state/CyberDeck
# macOS data dir: /Users/<user>/Library/Application Support/CyberDeck
CYBERDECK_DATA_DIR=
# Optional explicit log file location:
# Windows log file: C:/Users/<user>/AppData/LocalLow/CyberDeck/cyberdeck.log
# Linux log file: /home/<user>/.local/state/CyberDeck/cyberdeck.log
# macOS log file: /Users/<user>/Library/Logs/CyberDeck/cyberdeck.log
CYBERDECK_LOG_FILE=
# Files upload dir (usually your Downloads folder)
CYBERDECK_FILES_DIR=
CYBERDECK_RESOURCE_DIR=

# Upload and transfer
CYBERDECK_UPLOAD_MAX_BYTES=0
CYBERDECK_UPLOAD_ALLOWED_EXT=
CYBERDECK_TRANSFER_SCHEME=auto

# CORS
CYBERDECK_CORS_ORIGINS=*
CYBERDECK_CORS_ALLOW_CREDENTIALS=0

# Logging
CYBERDECK_DEBUG=0
CYBERDECK_CONSOLE=0
CYBERDECK_LOG=0
CYBERDECK_VERBOSE_HTTP_LOG=0
CYBERDECK_VERBOSE_WS_LOG=0
CYBERDECK_VERBOSE_STREAM_LOG=0

# WS heartbeat
CYBERDECK_WS_HEARTBEAT_INTERVAL_S=15
CYBERDECK_WS_HEARTBEAT_TIMEOUT_S=45

# Stream defaults
CYBERDECK_CURSOR_STREAM=1
CYBERDECK_CURSOR_FPS=30
CYBERDECK_STREAM_MONITOR=1
CYBERDECK_OFFER_LOW_LATENCY_DEFAULT=1

# Stream stability/perf tuning
CYBERDECK_STREAM_STDOUT_QUEUE_SIZE=1
CYBERDECK_STREAM_STDOUT_READ_CHUNK=32768
CYBERDECK_STREAM_RECONNECT_HINT_MS=700
CYBERDECK_STREAM_FIRST_CHUNK_TIMEOUT_S=4.0
CYBERDECK_STREAM_FIRST_CHUNK_TIMEOUT_FAST_S=1.25
CYBERDECK_STREAM_STALE_KEEPALIVE_S=0.35
CYBERDECK_STREAM_MIN_W_FLOOR=1152
CYBERDECK_ADAPT_MIN_SWITCH_S=10
CYBERDECK_ADAPT_HYST_RATIO=0.20
CYBERDECK_STREAM_INPUT_QUEUE_SIZE=1024
CYBERDECK_AUDIO_INPUT_QUEUE_SIZE=1024
CYBERDECK_STREAM_RTBUF_MB=128
CYBERDECK_STREAM_MAX_CMD_CANDIDATES=6
CYBERDECK_STREAM_STARTUP_BUDGET_S=6.5
CYBERDECK_PIPEWIRE_DISCOVER_TIMEOUT_S=0.45

# Stream quality defaults
CYBERDECK_STREAM_OFFER_MAX_W=1920
CYBERDECK_STREAM_OFFER_Q=55
CYBERDECK_MJPEG_DEFAULT_W=1280
CYBERDECK_MJPEG_DEFAULT_Q=55
CYBERDECK_MJPEG_MIN_Q=45
CYBERDECK_MJPEG_MIN_Q_LOWLAT=35
CYBERDECK_SCREENSHOT_MAX_W=1280
CYBERDECK_SCREENSHOT_MAX_Q=50
CYBERDECK_JPEG_SUBSAMPLING=1

# Optional low-latency caps
CYBERDECK_LOWLAT_MAX_W=1280
CYBERDECK_LOWLAT_MAX_Q=50
CYBERDECK_LOWLAT_MAX_FPS=60

# Optional audio relay settings (ffmpeg)
CYBERDECK_AUDIO_BITRATE_K=128
CYBERDECK_AUDIO_INPUT_ARGS=
CYBERDECK_AUDIO_INPUT_MAX_CANDIDATES=2
CYBERDECK_AUDIO_PULSE_MAX_CANDIDATES=2
CYBERDECK_AUDIO_PULSE_PROBE_TIMEOUT_S=0.45
CYBERDECK_AUDIO_ALLOW_MIC_FALLBACK=0
CYBERDECK_AUDIO_WINDOWS_PREFER_DSHOW=1
CYBERDECK_AUDIO_ENABLE_WASAPI=1
CYBERDECK_AUDIO_ENABLE_PIPEWIRE=1
CYBERDECK_AUDIO_WINDOWS_FORCE_SOUNDCARD=1
CYBERDECK_AUDIO_SOUNDCARD_SPEAKER=
CYBERDECK_AUDIO_SOUNDCARD_WRITE_SILENCE_WHEN_IDLE=1
CYBERDECK_AUDIO_SOUNDCARD_FIRST_CHUNK_TIMEOUT_S=8.0
CYBERDECK_AUDIO_PAD_WITH_SILENCE=1
CYBERDECK_AUDIO_FALLBACK_TO_SILENT=0
CYBERDECK_AUDIO_MAX_CMD_CANDIDATES=4
CYBERDECK_AUDIO_STARTUP_BUDGET_S=5.5
CYBERDECK_AUDIO_FIRST_CHUNK_TIMEOUT_S=4.0
CYBERDECK_AUDIO_FIRST_CHUNK_TIMEOUT_FAST_S=1.6

# Wayland helpers (optional)
CYBERDECK_WAYLAND_ALLOW_X11_FALLBACK=1
CYBERDECK_PREFER_MJPEG_OFFER=1
CYBERDECK_FAST_RESIZE=1
CYBERDECK_PIPEWIRE_MAX_SOURCES=2
# CYBERDECK_MJPEG_BACKEND_ORDER=ffmpeg,gstreamer,screenshot,native

# System API timeout
CYBERDECK_SYSTEM_CMD_TIMEOUT_S=3.0

# Update check metadata
CYBERDECK_GITHUB_REPO=Overl1te/CyberDeck
CYBERDECK_MOBILE_GITHUB_REPO=Overl1te/CyberDeck-Mobile
CYBERDECK_MOBILE_VERSION=1.1.2
# Android package name used for intent:// QR auto-open (if changed from default build id)
CYBERDECK_MOBILE_ANDROID_PACKAGE=com.example.cyberdeck_mobile.cyberdeck_mobile
CYBERDECK_UPDATE_CHECK_TIMEOUT_S=2.5
CYBERDECK_UPDATE_CHECK_TTL_S=300


